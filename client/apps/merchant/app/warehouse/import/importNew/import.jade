template(name="import")
  +addProduct(myCreateProduct=myCreateProduct order=currentOrder)
  +addProvider(myCreateProvider=myCreateProvider order=currentOrder)
  +addDistributor(myCreateDistributor=myCreateDistributor order=currentOrder)
  #header
    .caption-row
      .title
        |Nhập Kho
      .commands
        if showHistory
          button.lemon.btn.amethyst.icon-history.importHistory(type='submit') LỊCH SỬ
        button.lemon.btn.lime.icon-building.add-provider(type='submit') Thêm NCC
        button.lemon.btn.lime.icon-building.add-distributor(type='submit') Thêm C.Ty PP
        button.lemon.btn.lime.icon-tags-2.add-product(type='submit') Thêm Sản Phẩm
        input(binding="switch" type="checkbox" name="advancedMode")

    .editor-row
      .editor-wrapper(style="width:250px")
        span.ilabel sản phẩm
        span.ilabel.optional.right: a(href="#"): i.add-product.icon-plus-6(data-toggle="tooltip" data-container="body" data-placement="top" title="Thêm sản phẩm")
        +iSelect(options=productSelectOptions class="field")
      .editor-wrapper(style="width:180px")
        span.ilabel.optional nhà cung cấp
        span.ilabel.optional.right: a(href="#"): i.add-provider.icon-plus-6(data-toggle="tooltip" data-container="body" data-placement="top" title="Thêm nhà cung cấp")
        +iSelect(options=providerSelectOptions class="field")
      .editor-wrapper(style="width:120px")
        span.ilabel.center số lượng
        +iSpinEdit(options=qualityOptions class="field")
      .editor-wrapper(style="width:150px")
        span.ilabel.center giá nhập
        +iSpinEdit(options=importPriceOptions class="field")
      if hidePriceSale
        .editor-wrapper(style="width:150px")
          span.ilabel.center giá bán
          +iSpinEdit(options=salePriceOptions class="field")
      if showCreateDetail
        .editor-wrapper(style="width:100px")
          button.lemon.btn.lime.icon-plus-circled.addImportDetail(type='submit' style="{{showCreateDetail}}") THÊM
      .editor-wrapper.right
        input.hidden.excelFileSource(type="file")
        button.lemon.btn.blue.right.excel-import(type='submit' data-toggle="tooltip" data-container="body" data-placement="top" title="Nhập tự động")
          span.icon-inbox-1
      .editor-wrapper.right
        a.lemon.btn.blue(href="/template/nhap_kho.csv" target="_blank" data-toggle="tooltip" data-container="body" data-palace-holder="top" title="Tải về file Mẫu")
          span.icon-doc-text-inv-1

    .editor-row.extra(name='advanced' style="display: none;")
      .editor-wrapper(style="width: 120px")
        span.ilabel.optional ngày sản xuất
        input(name="productionDate" binding="datePicker" todayHighlight="true")
      .editor-wrapper(style="width: 120px")
        span.ilabel.optional hạn sử dụng
        +iSelect(options=timeUseSelectOptions class="field")
      //.editor-wrapper(style="width: 120px")
      //  span.ilabel.optional ngày hết hạn
      //  input(binding="datePicker" todayHighlight="true" name="expire")

  #content
    +iGrid(options=importDetailOptions)

  #footer
    if currentImport
      .editor-row
        if showSubmit
          .editor-wrapper.right(style="width: 100px")
            button.lemon.btn.lime.icon-ok-6.right.submitImport(type='submit' style="margin-right: 5px;") XÁC NHẬN
        if showEdit
          .editor-wrapper.right(style="width: 120px")
            button.lemon.btn.carrot.icon-pencil-circled.editImport(type='submit' style="margin-right: 5px;") CHỈNH SỬA
        if showFinish
          .editor-wrapper.right(style="width: 100px")
            button.lemon.btn.lime.icon-award.right.finishImport(type='submit' style="margin-right: 5px;") HOÀN TẤT

        .editor-wrapper.right(style="width: 120px")
          span.ilabel.optional tiền còn nợ
          input.debit(style="text-align: center" value="{{currentImport.debit}}" disabled)
        .editor-wrapper.right(style="width: 120px")
          span.ilabel.optional tiền đã trả
          input.deposit(style="text-align: center" value="{{currentImport.deposit}}")
        .editor-wrapper.right(style="width: 120px")
          span.ilabel.optional tổng tiền
          input.totalPrice(style="text-align: center" value="{{currentImport.totalPrice}}" disabled)
        .editor-wrapper.right(style="width: 300px")
          span.ilabel description
          input.description(value="{{currentImport.description}}")
        .editor-wrapper.right(style="width:180px")
          span.ilabel.optional công ty phân phối
          span.ilabel.optional.right: a(href="#"): i.add-distributor.icon-plus-6(data-toggle="tooltip" data-container="body" data-placement="top" title="Thêm nhà phân phối")
          +iSelect(options=distributorSelectOptions class="field")

    +tabComponent(options=tabOptions)